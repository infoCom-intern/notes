# EITA55

## Tredje föreläsningen, 2023-09-01

"Vi inför fel genom digitaliseringen men ändå blir det bättre!?"

### Anpassad komprimering för "optimal" datahantering

- Talöverföring:

  - Val av asamplingsfrekvens och kvantisering: För klar talöverföring är det nödvändigt att välja lämpliga parametrar för samplingsfrekvens och kvantisering

- Musikåtergivning

  - Högre samplingsfrekvens och bitdjup: Musik kräver ökad samplingsfrekvens och större bitdjup för att behålla nyansera och kvaliteten i ljudet.

### Grundproblemet

- Överlappande röster: Om flera människor pratar samtidigt, eller flera datorer sänder data samtidigt, blir det svårt att förstå vad som sägs eller vilken data som skickas.

- Kollisioner: I nätverk kan flera datapaket kollidera om de sänds samtidigt, vilket leder till att ingen av dem kommer fram som tänkt.

- Resurseffektivitet: det är ineffektivt att alla försöker prata samtidigt!

### Problem

- Lyssnar den andra personen?
- Vet lyssnaren när jag börjar?
- Hur ska jag urskilja informationen?
- Hur ska jag veta att informationen kom fram?

### Lösning

1. Detektera fel
2. Hantera fel
3. Undvika fel

## Centrala koncept

### Dela upp informationen, packetering

- Uppdelning: Data delas upp i mindre enheter, kallade paket, vid sändning
- Tre komponenter: Varje paket har ett huvud, data och eventuell svans
- Kontrollinformation: Huvud och svans innehåller information för routing och felhantering

#### Motiv för paketförmedling

- Enskild hantering: Varje paket hateras induviduellt, vilket ger flexibilitet
- Felkontroll: Mindre data per paket förenklar feldetektering
- Användarvänlighet: Lättare att växla mellan användare på nätet
- Adressering och ordning: Varje paket kräver adress och ordningsnummer

### Tillförlitlig dataöverföring

- Om en etta kommer fram som en nolla har det inträffat ett bitfel
- Tillförlitlig dataöverföring innebär att sändare och mottagare ser till att all information kommer fram korrekt

### Länk, vad är det?

Exempelvis är luften en länk! En länk är ett utbredningsmedium mellan två noder. Brevlådor är länkar, nätverk är länkar osv

### Protokoll

- Länkprotokoll: Normer och regler för att kommunicera f2f, via länk
- Nätprotokoll: Normer och regler för att kommunicera via någon annan

### Uppdelning av länkens kapacitet

En delar in länken i kanaler och låter en förbindelse kommunicera över en av dessa kanaler

### Multiplexering

Länkens kapacitet delas upp på minst fyra sätt:

1. Rumsmultiplex
2. Frekvensmultiplex
3. Tidsmultiplex
4. Koduppdelningsmultiplex

### Rumsmultiplex

Används i t.ex. optiska fiberkablar som består av flera optiska fibrer. Varje förbindelse får sin egen fiber, eller fiberpar. Egen "fysisk del av rummet".

### Frekvensmultiplex

En fysisk länk kan delas in i flera logiska kanaler med olika rekvenspand

### Synktron tidsmultiplex

- Multiplexorn skickar ut paketet i tur och ordning
- Om en kanal inte har något att slända kommer länken vara tom

### Statistisk multiplexering

- Paketen skickas ut på länken efterhand som de kommer till multiplexorn
- De kan behöva vänta ett tag innan de kan skickas vidare

### Koduppdelad multiplexering

- Endast trådlösa länkar
- Många använder samma länk och samma frekvensband samtidigt genom Spread Spectrum
- FHSS: Koden är hoppsekvensen
- DSSS: Koden är bit-sekvenser (chip)

### Kontroll av dataöverföring

- Simplex:

  - Endast av sändningsriktning är möjlig

- Halv duplex:

  - Överföring i båda riktningar, men inte samtidigt

- Full duplex:
  - Båda sändningsriktningarna samtidigt
  - Kräver uppdelning i två kanaler, där varje sändare/dator har en egen kanal

### HUr hittar datorerna varandra?

- Unika adresser: Varje dator har en unik adress, inbränd i dess nätverskort, som fungerar som dess "ID-kort" i nätverket
- Adresstyper: Det finns olika slags adresser - IP-adresser för internet, MAC-adresser på lokal nivå
- Ruttning: Adressen används för att ruttleda
- Upptäck

### Att sända data på ett LAN

- Alla datorerer måste ha en unik adress
- Den dator som har rätt motagaradress läser in paketet

### Polling

Om ett lokalt nät använder polling, fiknns det en så kallad primary som ser till att de andra datorerna (secondaries) får skicka i turordning.

### Token Ring

- Token-baserad tillgång: Endast den dator som har "tokeN" har rätt att sända data på nätverket
- Förutbestämd ordning: Datorerna är ordnade i en logisk ring och token passerar sekventiellt mellan dem
- Hög säkerhet mot kollision eftersom bara en dator kan sända åt gången, undviks kollisioner

### ALOHA

- Centraliserad arkitektur: En central dator koordinerar kommunikationen med flera klientdatorer
- Tvåvägs radioförbindelse: Använder två separata radiokanaler för att skicka och ta emot data - en för att sända från centraldatorn och en annan för att ta emot data.
- Direkt sändning: Klientdatorer sänder datapaket utan att vänta på tillstånd, vilket gör systemet enkelt men riskerar kollisioner

### CSMA/CD

Carrier Sense Multiple Access with Collision Detection

- Carrier sensing: Enheten "lyssnar" på nätverket för att avgöra om det är ledigt innan den sänder data.
- Sändning: Om nätverket är ledigt, skickas paketet. Om inte, måste enheten vänta.
- Kollisionsdetektering: Om en kollision upptäcks under sändningen, avbryts den och ett nytt försök görs efter en slimpmässig väntetid
- Effektivitet och rättvisa: CSMA/CD optimerar nätverkstrafiken genom att minska risken för kollisioner, vilket gör det rättvisare och effektivare.

### Att upptäcka bitfel

- Det är viktigt att mottagaren kan detektera om bitfel uppstår
- Sändaren lägger till en eller flera bitar vars värde beror på innehållet i paketet

Data +> Extrabitar

### En enkel lösning: Paritetsbit

- Extrabit vid sändning: Sändaren lägget till en extra paritetsbit i slutet av varje paket
- Jämn och ojämn paritet:

  - Jämn paritet: Ser till att antalet ettor i paketet är jämnt
  - Ojämn paritet: Ser till att antalet ettor är ojämnt

- Varför det funkar:
  - Snabb och enkel metod för att upptäcka enkla bitfel

### Kontrollsumma (checksum)

- Princip vid sändning:

  - Dela upp bitrsömmen i lika stora segment
  - Summera segmenten; Överskjutande ettor adderas till summan
  - Gör ett-komplement på den nya summan
  - Skicka segmenten tillsammans med komplementet av summan

- Princip vid mottagning:

  - Om komplementet av summan blir 0, har paketet mottagits korrekt

- Varför det fungerar:

  - Snabb och enkel metod som upptäcker vanliga feltyper bättre än paritetsbit

- Begränsningar
  - Kan missa komplicerade felmönster

### Cyklisk redundanscheck (CRC)

- Avancerad matte! Använder polynomdivisioner

Sändaren: Skicka iväg bitarna som representeras av M(x) \* x^k + R(x)

Mottagaren: M(x) \* x^k + R(x) + E(x) ska vara jämnt delbart med C(x)

### CRC: Hur?

1. Låt bitarna i paketet representeras av ett polynom
2. ANvänd generatorpolynom C(x) av grad k
3. Räkna paritetsbitarna R(x) som är resten vid divisionen

Ex:

10011010 = x^7 + x^4 + x^3 + x = M(x)

C(x) = x^3 + x^2 + 1 (k = 3)

M(x) \* x^k / C(x)
