# EDAA45

## Funktioner och abstraktion, 2023-09-11

### Abstraktion

- Abstraktion innebr att skapa en förenklad modell ur konkreta detaljer
- Vi hittar på nya begrepp som ger oss återanvändbara byggblock för våra tankar och vår kommunikation

### Exempel på abstraktionsmekanismen inom datavenskapen

Vi kommer att behandla flera olika, alltmer kraftfulla abstraktionsmekanisker i denna kurs:

- Funktioner
- Objekt
- Klasser
- Arv
- Generiska strukturer
- Kontextuella abstraktioner

Dessa abstraktionsmekanismer blir extra kraftfulla om de **kombineras**!

### Vad är en funktion?

En kaffekvarn! Som alla kaffekvarnar, har den nyckelordet def, och ett namn. Det finns också en parameterlucka där det står namnet på parametern samt vilken typ av indata som accepteras. Det finns också en resultatlucka.

1. Öppna parameterluckan
2. Stoppa in ett **argument**
3. Anropa funktioner/kaffekvarnen
4. Resultat returneras

### Om veckans tema: Funktioner

- Funktioner är en av de viktigaste abstraktionsmekanidmsernaninom datavetenskapen
- Du kan redan massornom funtioner, bl.a. från matematiken

### Funktion: Deklaration och anrop

`def funktionsnamn(parameterdeklarationen): returtyp = uttryck`

- En funktion har ett huvud och efter = kommer dess kropp
- En namngiven funktioj deklareras med nyckelordet def
- En funktion kan ha parametrar som deklareras i huvudet
- Kroppen ska vara ett utrryck
- Parametrar binds till argument vid anrop
- Uttrycket i fubktionens kropp evalueras vid varje anrop
- Värdet av uttrycket blir funktionen returvärde

### Deklarera funktioner, överlagring

- En parameter, sedan två parametrar
- Båda funktinoerna ovan kan finnas samtidigt! Trots att de har samma namn är de olika funktioner; kompilatorn kan skilja dem åt med hjälp av de olika parameterlistorna
- Detta kallas överlagring (overloading) av funktioner
- Överlagring ger flexibilitet i användningen; vi slipper hitta på nytt namn så som öka2 vid 2 parametrar.

### Funktioner med defaultargument

- Vi kan ofta åstadkomma samma flexibilitet som vid överlagring,k men med en enda funktion, om vi istället använder defaultargument

Exempel:

```scala

def inc(a: Int, b: Int = 1) = a + b

inc(42, 2) // 44
inc(42, 1) // 43
inc(42) // 43

```

### Funktioner med namngivna argument

- Genom att använda namngivna argument behöver man inte hålla reda på ordningen på parametrarna, bara man känner till parameternamnen.
- Namngivna argument går fint att kombinera med defaultargument.

```scala
def namn(förnamn: String,
         efternamn: String,
         förnamnFörst: Boolean = true,
         ledtext: String = "Namn: "): String = {

    if förnamnFörst then s"$ledtext $förnnamn $efternamn" else s"$ledtext $efternamn, $förnamn"
}

namn(ledtext = "Name: ", efternamn = "Coder", förnamn = "Kim")

```

### Enhetlig access

- Om en funktion deklareras med tom parameterlista () så ska den anropas med tom parameterlista

- En parameterlös funktion deklarerad utan () ska anropas utan ()

### Hur ser det ut i minnet när funktioner anropas?
